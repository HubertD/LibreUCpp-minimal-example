language: cpp
dist: bionic
addons:
  apt:
    sources:
      - sourceline: 'ppa:team-gcc-arm-embedded/ppa'      
    packages:
      - python3-pip
      - ninja-build
      - gcc-arm-none-eabi
      - binutils-arm-none-eabi
      - libnewlib-arm-none-eabi
      - libstdc++-arm-none-eabi-newlib
      
script:
  - pip3 install --user cmake
  - which cmake
  - cmake --version
  - which arm-none-eabi-gcc
  - arm-none-eabi-gcc --version
  - mkdir -p build
  - cd build
  - cmake -DCMAKE_TOOLCHAIN_FILE=../external/LibreUCpp/toolchain-arm-none-eabi.cmake ..
  - cmake --build .
  
